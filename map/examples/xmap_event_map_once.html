<html>
  <head>
    <script src="../lib/xmap.min.js"></script>
    <style>
      * {
        padding: 0;
        margin: 0;
      }
      #xmap {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div id="xmap"></div>
    <script>
      window.onload = function() {
        var map = new XMap.Map("#xmap", {});
        map.load("../files/data.json");
        // 添加单次点击事件，触发一次后移除
        map.once("click", event => {
          let location = new XMap.Location(event.floor, event.x, event.y);
          let marker = new XMap.Marker(location, {
            icon: "img/peopleMarker.png",
            size: new XMap.Point(25),
            offset: new XMap.Point(0, -12.5)
          });
          map.addOverlay(marker);
        });
      };
    </script>
  </body>
</html>
